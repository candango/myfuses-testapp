<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE circuit PUBLIC "-//MYFUSES//DTD CIRCUIT 1.0 Strict//EN"
    "http://www.candango.org/myfuses/dtd/circuit.dtd">
<circuit access="public"
    xmlns:data="core/verbs/data/">
	
	<fuseaction name="toJson">
        <do action="includeDependencies" />
        <do action="createData" />
	    <data:toJson value="#$data#" clean="true"/>
    </fuseaction>
	
	<fuseaction name="toXml">
        <do action="includeDependencies" />
        <do action="createData" />
        <data:toXml value="#$data#" clean="true"/>
    </fuseaction>
	
	<fuseaction name="json">
	    <do action="includeDependencies" />
	    <xfa name="getJsonData" value="toJson"/>
        <data:fromJson name="data" xfa="getJsonData"/>
        <do action="showData" />
    </fuseaction>
	
	<fuseaction name="xml">
        <do action="includeDependencies" />
        <xfa name="getXmlData" value="toXml"/>
        <data:fromXml name="data" xfa="getXmlData"/>
        <do action="showData" />
    </fuseaction>
	
	<fuseaction name="showData">
	   <include template="dspData.php"/>
	</fuseaction>
	
	<fuseaction name="includeDependencies">
       <include template="actIncludeDependencies.php"/>
    </fuseaction>
	
	<fuseaction name="createData">
       <include template="actCreateData.php"/>
    </fuseaction>
	
	<prefuseaction>
        <include file="dspHeader.php" />
    </prefuseaction>
    
    <postfuseaction>
        <xfa name="backtoMenu" value="main.menu" />
        <include file="dspFooter.php" />
    </postfuseaction>
	
</circuit>